(function(t){function e(e){for(var a,c,r=e[0],o=e[1],l=e[2],d=0,v=[];d<r.length;d++)c=r[d],Object.prototype.hasOwnProperty.call(s,c)&&s[c]&&v.push(s[c][0]),s[c]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a]);u&&u(e);while(v.length)v.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],a=!0,r=1;r<n.length;r++){var o=n[r];0!==s[o]&&(a=!1)}a&&(i.splice(e--,1),t=c(c.s=n[0]))}return t}var a={},s={app:0},i=[];function c(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=t,c.c=a,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)c.d(n,a,function(e){return t[e]}.bind(null,a));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],o=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=o;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"01cb":function(t,e,n){"use strict";var a=n("9b9b"),s=n.n(a);s.a},"0777":function(t,e,n){},3272:function(t,e,n){},3756:function(t,e,n){},"375d":function(t,e,n){"use strict";var a=n("e8b3"),s=n.n(a);s.a},"3c95":function(t,e,n){},"459b":function(t,e,n){"use strict";var a=n("8674"),s=n.n(a);s.a},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("v-app",{style:{background:t.$vuetify.theme.themes[t.theme].background},attrs:{id:"inspire"}},[n("Snackbar"),t.$route.meta.hideNav?t._e():n("v-navigation-drawer",{attrs:{app:"",clipped:"",dark:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[n("v-list",[n("router-link",{attrs:{to:"/"}},[n("v-list-item",{attrs:{link:""}},[n("v-list-item-icon",[n("v-icon",[t._v("dashboard")])],1),n("v-list-item-content",[n("v-list-item-title",[t._v("Dashboard")])],1)],1)],1),n("router-link",{attrs:{to:"/subjects"}},[n("v-list-item",{attrs:{link:""}},[n("v-list-item-icon",[n("v-icon",[t._v("subject")])],1),n("v-list-item-content",[n("v-list-item-title",[t._v("Subjects")])],1)],1)],1),n("router-link",{staticClass:"d-flex align-center",attrs:{to:"/calendar"}},[n("v-list-item",{attrs:{link:""}},[n("v-list-item-icon",[t.getUpcomingEvents?n("v-badge",{attrs:{color:"green",content:t.getUpcomingEvents}},[n("v-icon",[t._v("calendar_today")])],1):n("v-icon",[t._v("calendar_today")])],1),n("v-list-item-content",[n("v-list-item-title",[t._v(" Calendar ")])],1)],1)],1),n("router-link",{attrs:{to:"/schedule"}},[n("v-list-item",{attrs:{link:""}},[n("v-list-item-icon",[n("v-icon",[t._v("schedule")])],1),n("v-list-item-content",[n("v-list-item-title",[t._v("Schedule")])],1)],1)],1),n("router-link",{attrs:{to:"/todo"}},[n("v-list-item",{attrs:{link:""}},[n("v-list-item-icon",[t.getTasksNumber?n("v-badge",{attrs:{color:"green",content:t.getTasksNumber}},[n("v-icon",[t._v("list")])],1):n("v-icon",[t._v("list")])],1),n("v-list-item-content",[n("v-list-item-title",[t._v(" To do list ")])],1)],1)],1),n("router-link",{attrs:{to:"/exams"}},[n("v-list-item",{attrs:{link:""}},[n("v-list-item-icon",[n("v-icon",[t._v("list_alt")])],1),n("v-list-item-content",[n("v-list-item-title",[t._v("Exams")])],1)],1)],1),n("router-link",{attrs:{to:"/offers"}},[n("v-list-item",{attrs:{link:""}},[n("v-list-item-icon",[n("v-icon",[t._v("local_offer")])],1),n("v-list-item-content",[n("v-list-item-title",[t._v("Offers")])],1)],1)],1)],1)],1),t.$route.meta.hideNav?t._e():n("v-app-bar",{staticClass:"elevation-2",attrs:{app:"","clipped-left":"",dense:""}},[n("v-app-bar-nav-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),n("v-spacer"),n("v-icon",{staticClass:"mr-5"},[t._v(" brightness_5 ")]),n("v-switch",{attrs:{"hide-details":"",inset:""},model:{value:t.$vuetify.theme.dark,callback:function(e){t.$set(t.$vuetify.theme,"dark",e)},expression:"$vuetify.theme.dark"}}),n("v-icon",[t._v(" brightness_2 ")]),n("router-link",{attrs:{to:"/login"}},[n("span",{staticClass:"ml-5",on:{click:t.logout}},[t._v("Logout")]),n("v-icon",{staticClass:"ml-4"},[t._v("exit_to_app")])],1)],1),n("v-content",[n("v-container",[n("router-view")],1)],1)],1)],1)},i=[],c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"text-center"},[n("v-snackbar",{attrs:{timeout:t.timeout,color:t.snackbarOptions.color},model:{value:t.snackbarOptions.snackbar,callback:function(e){t.$set(t.snackbarOptions,"snackbar",e)},expression:"snackbarOptions.snackbar"}},[t._v(" "+t._s(t.snackbarOptions.text)+" "),n("v-btn",{attrs:{color:"",text:""},on:{click:function(e){t.snackbarOptions.snackbar=!1}}},[t._v(" Close ")])],1)],1)},r=[],o={data:function(){return{timeout:2500,snackbarOptions:{snackbar:!1,text:"",color:""}}},created:function(){var t=this;this.$store.watch((function(t){return t.notifications.snackbar}),(function(){var e=t.$store.state.notifications.snackbar;e&&(t.snackbarOptions=e)}))}},l=o,u=n("2877"),d=n("6544"),v=n.n(d),m=n("8336"),f=n("2db4"),p=Object(u["a"])(l,c,r,!1,null,null,null),h=p.exports;v()(p,{VBtn:m["a"],VSnackbar:f["a"]});var b={name:"App",components:{Snackbar:h},data:function(){return{drawer:null}},methods:{logout:function(){this.$store.dispatch("showSnackbar",{snackbar:!0,color:"success",text:"Successfully logged out"}),this.$store.dispatch("logout")}},computed:{theme:function(){return this.$vuetify.theme.dark?"dark":"light"},getUpcomingEvents:function(){return this.$store.getters.upcomingEventsGetter.length},getTasksNumber:function(){return this.$store.getters.getTasks.length}}},k=b,g=(n("5c0b"),n("7496")),_=n("40dc"),x=n("5bc1"),y=n("4ca6"),j=n("a523"),C=n("a75b"),S=n("132d"),T=n("8860"),D=n("da13"),E=n("5d23"),w=n("34c3"),R=n("f774"),$=n("2fa4"),V=n("b73d"),P=Object(u["a"])(k,s,i,!1,null,null,null),N=P.exports;v()(P,{VApp:g["a"],VAppBar:_["a"],VAppBarNavIcon:x["a"],VBadge:y["a"],VContainer:j["a"],VContent:C["a"],VIcon:S["a"],VList:T["a"],VListItem:D["a"],VListItemContent:E["a"],VListItemIcon:w["a"],VListItemTitle:E["c"],VNavigationDrawer:R["a"],VSpacer:$["a"],VSwitch:V["a"]});var M=n("9483");Object(M["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var O=n("8c4f"),q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[n("UpcomingEvents")],1),n("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[n("TasksToday")],1)],1)],1)},A=[],I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("div",{staticClass:"d-flex flex-column mb-4"},[n("h3",{staticClass:"mr-4 mb-4"},[t._v("Upcoming events")]),n("router-link",{attrs:{to:"/calendar"}},[t._v("Go to calendar view")])],1),0==t.getUpcomingEvents?n("div",[n("p",[t._v("No upcoming events")])]):n("v-simple-table",{staticClass:"elevation-2",scopedSlots:t._u([{key:"default",fn:function(){return[n("thead",[n("tr",[n("th",{staticClass:"text-left"},[t._v("Event")]),n("th",{staticClass:"text-left"},[t._v("Date")])])]),n("tbody",t._l(t.getUpcomingEvents,(function(e){return n("tr",{key:e._id},[n("td",[t._v(t._s(e.title))]),e.start?n("td",[t._v(t._s(e.start.substr(0,10)))]):t._e()])})),0)]},proxy:!0}])})],1)},F=[],L={name:"UpcomingEvents",data:function(){return{}},computed:{getUpcomingEvents:function(){return this.$store.getters.upcomingEventsGetter}}},U=L,B=n("1f4f"),W=Object(u["a"])(U,I,F,!1,null,null,null),K=W.exports;v()(W,{VContainer:j["a"],VSimpleTable:B["a"]});var G=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("div",{staticClass:"d-flex flex-column mb-4"},[n("h3",{staticClass:"mr-2 mb-4"},[t._v("Tasks due today")]),n("router-link",{attrs:{to:"/todo"}},[t._v("Go to todo list view")])],1),0==t.getTodaysTasks?n("div",[n("p",[t._v("No tasks for today")])]):n("v-simple-table",{staticClass:"elevation-2",scopedSlots:t._u([{key:"default",fn:function(){return[n("thead",[n("tr",[n("th",{staticClass:"text-left"},[t._v("Task")]),n("th",{staticClass:"text-left"},[t._v("Priority")])])]),n("tbody",t._l(t.getTodaysTasks,(function(e){return n("tr",{key:e._id},[n("td",[t._v(t._s(e.name))]),e.priority?n("td",[n("v-chip",{staticClass:"ma-2",attrs:{color:e.priority.color,"text-color":"white",small:""}},[n("v-avatar",{attrs:{left:""}},[n("v-icon",[t._v("flag")])],1),t._v(" "+t._s(e.priority.name)+" ")],1)],1):n("td",[t._v(" - ")])])})),0)]},proxy:!0}])})],1)},J=[],z=(n("4de4"),{name:"TasksToday",computed:{getTodaysTasks:function(){return this.$store.getters.getTasks.filter((function(t){return t.dueDate===(new Date).toISOString().substr(0,10)}))}}}),Q=z,X=n("8212"),H=n("cc20"),Y=Object(u["a"])(Q,G,J,!1,null,null,null),Z=Y.exports;v()(Y,{VAvatar:X["a"],VChip:H["a"],VContainer:j["a"],VIcon:S["a"],VSimpleTable:B["a"]});var tt={name:"Dashboard",components:{UpcomingEvents:K,TasksToday:Z}},et=tt,nt=n("62ad"),at=n("0fd9"),st=Object(u["a"])(et,q,A,!1,null,null,null),it=st.exports;v()(st,{VCol:nt["a"],VContainer:j["a"],VRow:at["a"]});var ct=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("v-dialog",{attrs:{"max-width":"500"},model:{value:t.dialogSubject,callback:function(e){t.dialogSubject=e},expression:"dialogSubject"}},[n("v-card",[n("v-container",[n("v-form",{on:{submit:function(t){t.preventDefault()}}},[n("v-text-field",{attrs:{type:"text",label:"Subject name"},model:{value:t.subjectName,callback:function(e){t.subjectName=e},expression:"subjectName"}}),n("v-text-field",{attrs:{type:"text",label:"Teacher"},model:{value:t.teacherName,callback:function(e){t.teacherName=e},expression:"teacherName"}}),n("v-text-field",{attrs:{type:"text",label:"Description"},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}}),t.colorPicker?n("ColorPicker",{on:{changeColor:function(e){return t.changeColor(e)}}}):t._e(),n("div",{staticClass:"d-flex justify-space-between align-center"},[n("v-btn",{staticClass:"mr-4",attrs:{type:"submit",color:"primary"},on:{click:[t.addSubject,function(e){e.stopPropagation(),t.dialogSubject=!1}]}},[t._v(" Create subject ")]),n("v-icon",{on:{click:function(e){t.colorPicker=!t.colorPicker}}},[t._v("palette")])],1)],1)],1)],1)],1),n("v-dialog",{attrs:{"max-width":"500"},model:{value:t.dialogEditSubject,callback:function(e){t.dialogEditSubject=e},expression:"dialogEditSubject"}},[n("v-card",[n("v-container",[n("v-form",{on:{submit:function(t){t.preventDefault()}}},[t.currentSubject?n("v-text-field",{attrs:{type:"text",label:"Subject name"},model:{value:t.currentSubject.name,callback:function(e){t.$set(t.currentSubject,"name",e)},expression:"currentSubject.name"}}):t._e(),t.currentSubject?n("v-text-field",{attrs:{type:"text",label:"Teacher"},model:{value:t.currentSubject.teacher,callback:function(e){t.$set(t.currentSubject,"teacher",e)},expression:"currentSubject.teacher"}}):t._e(),t.currentSubject?n("v-text-field",{attrs:{type:"text",label:"Description"},model:{value:t.currentSubject.description,callback:function(e){t.$set(t.currentSubject,"description",e)},expression:"currentSubject.description"}}):t._e(),t.colorPicker?n("ColorPicker",{on:{changeColor:function(e){return t.changeSubjectColor(e)}}}):t._e(),n("div",{staticClass:"d-flex justify-space-between align-center"},[n("v-btn",{staticClass:"mr-4",attrs:{type:"submit",color:"primary"},on:{click:[function(e){return t.editSubject(t.currentSubject._id)},function(e){e.stopPropagation(),t.dialogEditSubject=!1}]}},[t._v(" Edit subject ")]),n("v-icon",{on:{click:function(e){t.colorPicker=!t.colorPicker}}},[t._v("palette")])],1)],1)],1)],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("div",{staticClass:"d-flex justify-space-between align-center"},[n("Breadcrumbs"),t.getSubjects.length>0?n("div",[n("v-tooltip",{attrs:{left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[n("v-btn",t._g({staticClass:"mx-2",attrs:{fab:"",dark:"",color:"primary"},on:{click:function(e){t.dialogSubject=!0}}},a),[n("v-icon",{attrs:{dark:""}},[t._v("mdi-plus")])],1)]}}],null,!1,1101791987)},[n("span",[t._v("Add new subject")])])],1):t._e()],1)])],1),0==t.getSubjects.length?n("v-container",{staticClass:"text-center"},[n("p",{staticClass:"display-1 gray--text mb-8"},[t._v(" Nothing here! Add your first subject ")]),n("v-btn",{attrs:{color:"primary"},on:{click:function(e){t.dialogSubject=!0}}},[n("v-icon",{staticClass:"mr-2"},[t._v("add")]),t._v(" Add subject ")],1)],1):n("v-form",[n("v-container",[n("v-text-field",{attrs:{label:"Search",filled:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),n("v-row",t._l(t.subjectsFilter,(function(e){return n("v-col",{key:e._id,attrs:{cols:"12",sm:"12",md:"6",lg:"4"}},[n("v-card",{staticClass:"mx-auto elevation-2",staticStyle:{"border-left":"4px solid"},style:{"border-left-color":e.color},attrs:{"max-width":"500"}},[n("v-list-item",{attrs:{"three-line":""}},[n("v-list-item-content",[n("div",{staticClass:"overline mb-4"}),n("div",{staticClass:"d-flex justify-space-between"},[n("router-link",{attrs:{to:"/subject/"+e._id}},[n("v-list-item-title",{staticClass:"subtitle-1 mb-1"},[t._v(" "+t._s(e.name)+" ")])],1),n("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[n("v-icon",t._g({attrs:{color:"primary",dark:""}},a),[t._v(" more_vert ")])]}}],null,!0)},[n("v-list",[n("v-list-item",[n("v-list-item-title",[n("v-btn",{attrs:{text:""},on:{click:function(n){return t.updateSubjectDialog(e)}}},[t._v("Edit")])],1)],1),n("v-list-item",[n("v-list-item-title",[n("v-btn",{attrs:{text:""},on:{click:function(n){return t.deleteSubject(e._id)}}},[t._v("Delete")])],1)],1)],1)],1)],1),e.description?n("p",{staticClass:"caption mt-2 text-limit"},[t._v(t._s(e.description))]):n("p",{staticClass:"caption mt-2 text-limit"},[t._v("No description")]),n("div",{staticClass:"caption mt-4"},[n("div",{staticClass:"mb-2"},[n("v-icon",{staticClass:"mr-2"},[t._v("person")]),t._v(" Teacher: "+t._s(e.teacher)+" ")],1),n("div",[n("v-icon",{staticClass:"mr-2"},[t._v("note")]),t._v(" Requirements: "+t._s(e.requirements.length-1)+" ")],1)])])],1)],1)],1)})),1)],1)],1)],1)},rt=[],ot=(n("a4d3"),n("e01a"),n("b0c0"),n("ac1f"),n("466d"),n("841c"),n("96cf"),n("1da1")),lt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-breadcrumbs",{staticClass:"pl-2 title route-title"},[t._v(t._s(this.$route.name))])],1)},ut=[],dt={name:"Breadcrumbs"},vt=dt,mt=(n("bd89"),n("2bc5")),ft=Object(u["a"])(vt,lt,ut,!1,null,null,null),pt=ft.exports;v()(ft,{VBreadcrumbs:mt["a"]});var ht=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-color-picker",{staticClass:"ma-2 mx-0 mb-8",attrs:{swatches:t.swatches,"show-swatches":"","hide-inputs":"","hide-canvas":""},on:{input:t.changeColor},model:{value:t.color,callback:function(e){t.color=e},expression:"color"}})},bt=[],kt={name:"ColorPicker",data:function(){return{swatches:[["#FF0000","#AA0000","#550000"],["#FFFF00","#AAAA00","#555500"],["#00FF00","#00AA00","#005500"],["#00FFFF","#00AAAA","#005555"],["#0000FF","#0000AA","#000055"]],color:""}},methods:{changeColor:function(){this.$emit("changeColor",this.color)}}},gt=kt,_t=n("03a4"),xt=Object(u["a"])(gt,ht,bt,!1,null,null,null),yt=xt.exports;v()(xt,{VColorPicker:_t["a"]});var jt={name:"Subjects",components:{Breadcrumbs:pt,ColorPicker:yt},data:function(){return{dialogSubject:!1,dialogEditSubject:!1,subjectName:"",teacherName:"",editing:null,editName:"",search:"",displayList:!1,borderColor:null,colorPicker:!1,description:null,currentSubject:null}},methods:{addSubject:function(){var t=this;""!==this.subjectName&&this.$store.dispatch("addSubject",{name:this.subjectName,teacher:this.teacherName,color:this.borderColor,description:this.description}).then((function(){t.subjectName="",t.teacherName="",t.borderColor="",t.description="",t.$store.dispatch("showSnackbar",{snackbar:!0,color:"success",text:"New subject added"})})).catch((function(t){console.log(t)})),this.$store.dispatch("showSnackbar",{snackbar:!0,color:"error",text:"Subject name cannot be empty"})},updateSubjectDialog:function(t){this.dialogEditSubject=!0,this.currentSubject=t},fetchSubjects:function(){this.$store.dispatch("fetchSubjects")},editSubject:function(t){var e=this;this.$store.dispatch("editSubject",this.currentSubject).then((function(){e.$store.dispatch("showSnackbar",{snackbar:!0,color:"success",text:"Subject updated"})})).catch((function(t){e.$store.dispatch("showSnackbar",{snackbar:!0,color:"error",text:t})}))},deleteSubject:function(t){var e=this;return Object(ot["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e.$store.dispatch("deleteSubject",t).then((function(){e.$store.dispatch("showSnackbar",{snackbar:!0,color:"success",text:"Subject deleted"})})).catch((function(t){e.$store.dispatch("showSnackbar",{snackbar:!0,color:"error",text:t})}));case 1:case"end":return n.stop()}}),n)})))()},changeColor:function(t){this.borderColor=t},changeSubjectColor:function(t){this.currentSubject.color=t}},computed:{subjectsFilter:function(){var t=this;return this.getSubjects.filter((function(e){return e.name.toLowerCase().match(t.search)}))},getSubjects:function(){return this.$store.getters.getSubjects}},mounted:function(){this.fetchSubjects()}},Ct=jt,St=(n("c684"),n("b0af")),Tt=n("169a"),Dt=n("4bd4"),Et=n("e449"),wt=n("8654"),Rt=n("3a2f"),$t=Object(u["a"])(Ct,ct,rt,!1,null,"600cbf8c",null),Vt=$t.exports;v()($t,{VBtn:m["a"],VCard:St["a"],VCol:nt["a"],VContainer:j["a"],VDialog:Tt["a"],VForm:Dt["a"],VIcon:S["a"],VList:T["a"],VListItem:D["a"],VListItemContent:E["a"],VListItemTitle:E["c"],VMenu:Et["a"],VRow:at["a"],VTextField:wt["a"],VTooltip:Rt["a"]});var Pt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("v-dialog",{attrs:{"max-width":"500"},model:{value:t.editReqDialog,callback:function(e){t.editReqDialog=e},expression:"editReqDialog"}},[n("v-card",[n("v-container",[n("v-form",{on:{submit:function(t){t.preventDefault()}}},[t.currentReqs?n("v-text-field",{attrs:{type:"text",label:"Name"},model:{value:t.currentReqs.name,callback:function(e){t.$set(t.currentReqs,"name",e)},expression:"currentReqs.name"}}):t._e(),t.currentReqs?n("v-text-field",{attrs:{type:"number",label:"Progress"},model:{value:t.currentReqs.progress,callback:function(e){t.$set(t.currentReqs,"progress",e)},expression:"currentReqs.progress"}}):t._e(),n("v-btn",{staticClass:"mr-4",attrs:{type:"submit",color:"primary"},on:{click:[function(e){return t.editRequirement(t.currentReqs._id)},function(e){e.stopPropagation(),t.editReqDialog=!1}]}},[t._v(" Update ")])],1)],1)],1)],1),n("p",{staticClass:"headline"},[t._v(t._s(t.getSubjectDetails.name))]),n("v-row",{staticClass:"justify-space-between"},[n("v-col",{attrs:{cols:"12",sm:"12",md:"6",lg:"4"}},[n("p",{staticClass:"title"},[t._v("Requirements")]),n("div",{staticClass:"d-flex justify-space-between align-center"},[n("v-text-field",{staticClass:"mr-4",attrs:{label:"Requirements",required:""},model:{value:t.requirements,callback:function(e){t.requirements=e},expression:"requirements"}}),n("v-btn",{attrs:{color:"primary"},on:{click:t.addRequirement}},[t._v("Add")])],1),0==t.getSubjectDetails.requirements.length?n("p",{staticClass:"title text-center mt-4"},[t._v(" No requirements added ")]):n("v-card",t._l(t.getSubjectDetails.requirements,(function(e,a){return n("v-list-item",{key:a,staticClass:"d-flex justify-space-between align-center"},[n("v-list-item-content",{staticClass:"d-flex align-center"},[n("v-progress-circular",{staticClass:"flex-none mr-4",attrs:{rotate:360,size:40,width:2,value:e.progress,color:"green"}},[t._v(" "+t._s(e.progress)+" ")]),n("v-list-item-title",{staticClass:"flex-none"},[t._v(t._s(e.name))])],1),n("v-list-item-action",{staticClass:"d-flex flex-row"},[n("v-btn",{attrs:{icon:""}},[n("v-icon",{attrs:{color:"grey lighten-1"},on:{click:function(n){return t.updateReqDialog(e)}}},[t._v("create")])],1),n("v-btn",{attrs:{icon:""}},[n("v-icon",{attrs:{color:"grey lighten-1"},on:{click:function(n){return t.deleteRequirement(t.getSubjectDetails._id,e._id)}}},[t._v("clear")])],1)],1)],1)})),1)],1),n("v-col",{attrs:{cols:"12",sm:"12",md:"6",lg:"4"}},[n("p",{staticClass:"title"},[t._v("Attached files")]),[n("div",{staticClass:"d-flex justify-space-between"},[n("input",{ref:"file",attrs:{type:"file",name:"file",label:"File input"},on:{change:t.fileUpload}}),n("v-btn",{staticClass:"primary",on:{click:t.submitFile}},[t._v("Send")])],1)],n("v-divider",{staticClass:"mt-4 mb-4"}),0==t.uploadedFiles.length?n("p",{staticClass:"title text-center mt-4"},[t._v(" No files added ")]):n("v-card",{attrs:{lass:"elevation-0"}},[n("v-list",{attrs:{"two-line":"",subheader:""}},t._l(t.uploadedFiles,(function(e){return n("v-list-item",{key:e._id},[n("v-list-item-avatar",[n("v-icon",[t._v("description")])],1),n("v-list-item-content",[n("v-list-item-title",[t._v(t._s(e.filename))]),n("v-list-item-subtitle",[t._v("File")])],1),n("v-list-item-action",{staticClass:"d-flex flex-row"},[n("v-btn",{attrs:{icon:""}},[n("v-icon",{attrs:{color:"grey lighten-1"},on:{click:function(n){return t.downloadFile(e.filename)}}},[t._v("system_update_alt")])],1),n("v-btn",{attrs:{icon:""}},[n("v-icon",{attrs:{color:"grey lighten-1"},on:{click:function(n){return t.deleteFile(e._id)}}},[t._v("clear")])],1)],1)],1)})),1)],1)],2),n("v-col",{attrs:{cols:"12",sm:"12",md:"12",lg:"4"}},[n("div",{staticClass:"d-flex flex-column align-center"},[n("p",{staticClass:"title"},[t._v("Passing class progress")]),n("ChartRadial",{attrs:{labels:t.getLabels,series:t.getSeries}})],1)])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"12"}},[n("quill-editor",{ref:"myQuillEditor",staticClass:"elevation-1",staticStyle:{"background-color":"#fff"},model:{value:t.note.content,callback:function(e){t.$set(t.note,"content",e)},expression:"note.content"}}),t.editMode?n("div",{staticClass:"mt-4"},[n("v-btn",{staticClass:"primary mr-4",on:{click:t.editNote}},[t._v("Edit note")]),n("v-btn",{on:{click:function(e){t.editMode=!1}}},[t._v("Cancel")])],1):n("v-btn",{staticClass:"primary mt-4",on:{click:t.addNote}},[t._v("Add note")])],1)],1),n("p",{staticClass:"mt-8 title"},[t._v("Notes")]),n("v-row",t._l(t.getSubjectDetails.notes,(function(e,a){return n("v-col",{key:a,attrs:{cols:"12",xs:"12",sm:"6",lg:"3"}},[n("v-card",{staticClass:"mx-auto overflow-hidden",attrs:{"max-width":"344",height:"150"}},[n("div",{staticClass:"d-flex justify-space-between"},[n("v-card-text",[n("div",{staticClass:"text--primary text-limit",domProps:{innerHTML:t._s(e.content)}})]),n("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[n("v-icon",t._g({attrs:{color:"primary",dark:""}},a),[t._v(" more_vert ")])]}}],null,!0)},[n("v-list",[n("v-list-item",[n("v-list-item-title",[n("v-btn",{attrs:{text:""},on:{click:function(n){return t.editNoteMode(e)}}},[t._v("Edit")])],1)],1),n("v-list-item",[n("v-list-item-title",[n("v-btn",{attrs:{text:""},on:{click:function(n){return t.deleteNote(e._id)}}},[t._v("Delete")])],1)],1)],1)],1)],1),n("v-card-actions",[n("v-btn",{attrs:{text:"",color:"primary accent-4"}},[t._v(" See more ")])],1)],1)],1)})),1)],1)},Nt=[],Mt=(n("d81d"),n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),n("bc3a")),Ot=n.n(Mt),qt=(n("a753"),n("8096"),n("14e1"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"chart"}},[n("apexchart",{attrs:{type:"radialBar",height:"300",options:t.chartOptions,series:t.series}})],1)}),At=[],It=(n("13d5"),n("b680"),n("1321")),Ft=n.n(It),Lt={name:"ChartRadial",components:{apexchart:Ft.a},props:["labels","series"],data:function(){var t=this;return{chartOptions:{chart:{height:350,type:"radialBar"},plotOptions:{radialBar:{dataLabels:{name:{fontSize:"22px"},value:{fontSize:"16px"},total:{show:!0,label:"Total",formatter:function(){var e=t.series.reduce((function(t,e){return t+e})),n=e/t.labels.length;return n.toFixed(2)}}}}},labels:this.labels}}}},Ut=Lt,Bt=Object(u["a"])(Ut,qt,At,!1,null,null,null),Wt=Bt.exports,Kt=n("953d"),Gt={name:"SubjectDetails",components:{ChartRadial:Wt,quillEditor:Kt["quillEditor"]},data:function(){return{requirements:"",progress:0,file:null,uploadedFiles:[],note:{content:null,_id:null},editReqDialog:!1,currentReqs:{},editMode:!1}},methods:{editNote:function(){var t=this;this.$store.dispatch("editNote",{note:this.note.content,noteId:this.note._id}).then((function(){t.editMode=!1,t.note.content=null,t.$store.dispatch("showSnackbar",{snackbar:!0,color:"success",text:"Note updated"})}))},editNoteMode:function(t){this.note=t,this.editMode=!0},deleteNote:function(t){var e=this;this.$store.dispatch("deleteNote",{noteId:t,subjectId:this.$route.params.id}).then((function(){e.$store.dispatch("showSnackbar",{snackbar:!0,color:"success",text:"Note deleted"})}))},editRequirement:function(t){var e=this;null!==this.currentReqs.name&&this.$store.dispatch("editRequirement",{reqId:t,requirement:this.currentReqs.name,progress:this.currentReqs.progress}).then((function(){e.$store.dispatch("showSnackbar",{snackbar:!0,color:"success",text:"Requirement updated"})})),this.$store.dispatch("showSnackbar",{snackbar:!0,color:"error",text:"Requirement name cannot be empty"})},updateReqDialog:function(t){this.currentReqs=t,this.editReqDialog=!0},deleteRequirement:function(t,e){var n=this;this.$store.dispatch("deleteRequirement",{subjectId:t,reqId:e}).then((function(){n.$store.dispatch("showSnackbar",{snackbar:!0,color:"success",text:"Requirement deleted"})}))},fetchSubjectDetails:function(){this.$store.dispatch("fetchSubjectDetails",this.$route.params.id)},addRequirement:function(){var t=this;""!==this.requirements&&this.$store.dispatch("addRequirement",{requirement:this.requirements,progress:this.progress,subjectId:this.$route.params.id}).then((function(){t.requirements=null,t.progress=0,t.$store.dispatch("showSnackbar",{snackbar:!0,color:"success",text:"Requirement added"})})),this.$store.dispatch("showSnackbar",{snackbar:!0,color:"error",text:"Requirement name cannot be empty"})},addNote:function(){var t=this;this.$store.dispatch("addNote",{note:this.note.content,subjectId:this.$route.params.id}).then((function(){t.note.content=null,t.$store.dispatch("showSnackbar",{snackbar:!0,color:"success",text:"Note added"})}))},fileUpload:function(){this.file=this.$refs.file.files[0]},submitFile:function(){var t=this;return Object(ot["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=new FormData,n.append("file",t.file),e.prev=2,e.next=5,Ot.a.post("http://localhost:3000/upload",n,{headers:{"Content-Type":"multipart/form-data"}});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](2),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})))()},getUploadedFiles:function(){var t=this;return Object(ot["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ot.a.get("http://localhost:3000/files");case 2:n=e.sent,t.uploadedFiles=n.data;case 4:case"end":return e.stop()}}),e)})))()},downloadFile:function(t){Ot.a.get("http://localhost:3000/files/".concat(t),{responseType:"blob"}).then((function(e){var n=window.URL.createObjectURL(new Blob([e.data])),a=document.createElement("a");a.href=n,a.setAttribute("download","".concat(t)),document.body.appendChild(a),a.click()}))},deleteFile:function(t){return Object(ot["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ot.a.delete("http://localhost:3000/file/".concat(t));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))()}},computed:{getSubjectDetails:function(){return this.$store.getters.getSubjectDetails},getLabels:function(){return this.getSubjectDetails.requirements.map((function(t){return t.name}))},getSeries:function(){var t=this.getSubjectDetails.requirements.map((function(t){return t.progress}));return t.map((function(t){return parseInt(t)}))},editor:function(){return this.$refs.myQuillEditor.quill}},mounted:function(){this.fetchSubjectDetails(),this.getUploadedFiles()},updated:function(){this.getUploadedFiles()}},Jt=Gt,zt=(n("85e8"),n("99d9")),Qt=n("ce7e"),Xt=n("1800"),Ht=n("8270"),Yt=n("490a"),Zt=Object(u["a"])(Jt,Pt,Nt,!1,null,"3019d3ae",null),te=Zt.exports;v()(Zt,{VBtn:m["a"],VCard:St["a"],VCardActions:zt["a"],VCardText:zt["b"],VCol:nt["a"],VContainer:j["a"],VDialog:Tt["a"],VDivider:Qt["a"],VForm:Dt["a"],VIcon:S["a"],VList:T["a"],VListItem:D["a"],VListItemAction:Xt["a"],VListItemAvatar:Ht["a"],VListItemContent:E["a"],VListItemSubtitle:E["b"],VListItemTitle:E["c"],VMenu:Et["a"],VProgressCircular:Yt["a"],VRow:at["a"],VTextField:wt["a"]});var ee=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("v-row",[n("v-col",{staticClass:"px-0",attrs:{cols:"12",sm:"12"}},[n("div",{staticClass:"d-flex justify-space-between align-center"},[n("Breadcrumbs"),n("v-btn",{attrs:{color:"primary ml-4"},on:{click:function(e){t.dialogNewExam=!0}}},[n("v-icon",{staticClass:"mr-2"},[t._v("add")]),t._v(" Add exam ")],1)],1)])],1),n("v-dialog",{attrs:{"max-width":"500"},model:{value:t.dialogNewExam,callback:function(e){t.dialogNewExam=e},expression:"dialogNewExam"}},[n("v-card",[n("v-container",[n("v-form",{on:{submit:function(t){t.preventDefault()}}},[n("v-select",{attrs:{"return-object":"",items:t.getSubjects,label:"Select class","item-text":"name","item-value":"_id",solo:""},model:{value:t.selectedClass,callback:function(e){t.selectedClass=e},expression:"selectedClass"}}),n("v-text-field",{attrs:{type:"text",label:"Room"},model:{value:t.room,callback:function(e){t.room=e},expression:"room"}}),n("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":t.date,transition:"scale-transition","offset-y":"","min-width":"290px"},on:{"update:returnValue":function(e){t.date=e},"update:return-value":function(e){t.date=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[n("v-text-field",t._g({attrs:{label:"Date","prepend-icon":"event",readonly:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},a))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[n("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},[n("v-spacer"),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.menu=!1}}},[t._v("Cancel")]),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.menu.save(t.date)}}},[t._v("OK")])],1)],1),n("TimePicker",{on:{pickTime:function(e){return t.pickTime(e)}}}),t.colorPicker?n("ColorPicker",{on:{changeColor:function(e){return t.changeColor(e)}}}):t._e(),n("div",{staticClass:"d-flex justify-space-between align-center"},[n("v-btn",{staticClass:"mr-4",attrs:{type:"submit",color:"primary"},on:{click:[t.addExam,function(e){e.stopPropagation(),t.dialogTask=!1}]}},[t._v(" Add exam ")]),n("v-icon",{on:{click:function(e){t.colorPicker=!t.colorPicker}}},[t._v("palette")])],1)],1)],1)],1)],1),n("v-dialog",{attrs:{"max-width":"500"},model:{value:t.dialogUpdateExam,callback:function(e){t.dialogUpdateExam=e},expression:"dialogUpdateExam"}},[n("v-card",[n("v-container",[n("v-form",{on:{submit:function(t){t.preventDefault()}}},[t.currentExam?n("v-select",{attrs:{"return-object":"",items:t.getSubjects,label:"Select class","item-text":"name","item-value":"_id",solo:""},model:{value:t.currentExam.subject,callback:function(e){t.$set(t.currentExam,"subject",e)},expression:"currentExam.subject"}}):t._e(),t.currentExam?n("v-text-field",{attrs:{type:"text",label:"Room"},model:{value:t.currentExam.room,callback:function(e){t.$set(t.currentExam,"room",e)},expression:"currentExam.room"}}):t._e(),n("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":t.date,transition:"scale-transition","offset-y":"","min-width":"290px"},on:{"update:returnValue":function(e){t.date=e},"update:return-value":function(e){t.date=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[n("v-text-field",t._g({attrs:{label:"Date","prepend-icon":"event",readonly:""},model:{value:t.currentExam.start,callback:function(e){t.$set(t.currentExam,"start",e)},expression:"currentExam.start"}},a))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[t.currentExam?n("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:t.currentExam.start,callback:function(e){t.$set(t.currentExam,"start",e)},expression:"currentExam.start"}},[n("v-spacer"),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.menu=!1}}},[t._v("Cancel")]),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.menu.save(t.date)}}},[t._v("OK")])],1):t._e()],1),n("TimePicker",{on:{pickTime:function(e){return t.updateTime(e)}}}),t.colorPicker?n("ColorPicker",{on:{changeColor:function(e){return t.updateColor(e)}}}):t._e(),n("div",{staticClass:"d-flex justify-space-between align-center"},[n("v-btn",{staticClass:"mr-4",attrs:{type:"submit",color:"primary"},on:{click:[function(e){return t.editExam(t.currentExam)},function(e){e.stopPropagation(),t.dialogTask=!1}]}},[t._v(" Update exam ")]),n("v-icon",{on:{click:function(e){t.colorPicker=!t.colorPicker}}},[t._v("palette")])],1)],1)],1)],1)],1),n("v-simple-table",{staticClass:"elevation-1",scopedSlots:t._u([{key:"default",fn:function(){return[n("thead",[n("tr",{staticClass:"pl-8"},[n("th",{staticClass:"text-left"},[n("v-icon",{staticClass:"mr-2"},[t._v("class")]),t._v(" Class ")],1),n("th",{staticClass:"text-left"},[n("v-icon",{staticClass:"mr-2"},[t._v("calendar_today")]),t._v(" Date ")],1),n("th",{staticClass:"text-left"},[n("v-icon",{staticClass:"mr-2"},[t._v("person")]),t._v(" Teacher ")],1),n("th",{staticClass:"text-left"},[n("v-icon",{staticClass:"mr-2"},[t._v("room")]),t._v(" Room ")],1),n("th",{staticClass:"text-left"},[t._v(" Action ")])])]),n("tbody",t._l(t.getExams,(function(e){return n("tr",{key:e._id},[n("td",{staticClass:"border",style:{"border-left-color":e.color}},[n("router-link",{attrs:{to:"/subject/"+e.subject._id}},[t._v(" "+t._s(e.subject.name)+" ")])],1),n("td",[t._v(t._s(e.start))]),n("td",[t._v(t._s(e.subject.teacher))]),n("td",[t._v(t._s(e.room))]),n("td",[n("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[n("v-icon",t._g({},a),[t._v("more_vert")])]}}],null,!0)},[n("v-list",[n("v-list-item",[n("v-list-item-title",{staticClass:"body-2",on:{click:function(n){return t.updateEditDialog(e)}}},[n("v-icon",{staticClass:"mr-2"},[t._v("create")]),t._v(" Edit ")],1)],1),n("v-list-item",[n("v-list-item-title",{staticClass:"body-2",on:{click:function(n){return t.deleteExam(e._id)}}},[n("v-icon",{staticClass:"mr-2"},[t._v("delete")]),t._v(" Delete ")],1)],1)],1)],1)],1)])})),0)]},proxy:!0}])})],1)},ne=[],ae=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":t.time,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(e){t.time=e},"update:return-value":function(e){t.time=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[n("v-text-field",t._g({attrs:{label:"Pick time","prepend-icon":"access_time",readonly:""},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}},a))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[t.menu?n("v-time-picker",{attrs:{"full-width":""},on:{input:t.pickTime,"click:minute":function(e){return t.$refs.menu.save(t.time)}},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}}):t._e()],1)},se=[],ie={name:"TimePicker",data:function(){return{time:null,menu:!1}},methods:{pickTime:function(){this.$emit("pickTime",this.time)}}},ce=ie,re=n("c964"),oe=Object(u["a"])(ce,ae,se,!1,null,null,null),le=oe.exports;v()(oe,{VMenu:Et["a"],VTextField:wt["a"],VTimePicker:re["a"]});var ue={name:"Exams",components:{Breadcrumbs:pt,ColorPicker:yt,TimePicker:le},data:function(){return{color:"",dialogNewExam:!1,dialogUpdateExam:!1,selectedClass:"",startTime:null,date:"",menu:!1,room:"",colorPicker:!1,editedExam:null,currentExam:null}},methods:{addExam:function(){var t=this;this.$store.dispatch("addEvent",{title:this.selectedClass.name+" exam",start:this.date+"T".concat(this.startTime),daysOfWeek:null,subject:this.selectedClass._id,room:this.room,color:this.color,exam:!0}).then((function(){t.selectedClass=null,t.date=null,t.startTime=null,t.room=null,t.color=null,t.dialogNewExam=!1,t.$store.dispatch("showSnackbar",{snackbar:!0,color:"success",text:"New class scheduled"})}))},editExam:function(t){var e=this;this.$store.dispatch("editExamEvent",t).then((function(){e.dialogUpdateExam=!1,e.$store.dispatch("showSnackbar",{snackbar:!0,color:"success",text:"Exam scheduled"})}))},fetchExams:function(){this.$store.dispatch("getEvents")},updateEditDialog:function(t){this.currentExam=t,this.dialogUpdateExam=!0},deleteExam:function(t){var e=this;this.$store.dispatch("deleteEvent",t).then((function(){e.$store.dispatch("showSnackbar",{snackbar:!0,color:"success",text:"Exam deleted"})}))},changeColor:function(t){this.color=t},updateColor:function(t){this.currentExam.color=t},updateTime:function(t){this.currentExam.startTime=t},pickTime:function(t){this.startTime=t}},computed:{getSubjects:function(){return this.$store.getters.getSubjects},getExams:function(){return this.$store.getters.eventsGetter.filter((function(t){return t.exam}))}},mounted:function(){this.fetchExams()}},de=ue,ve=(n("fa6a"),n("2e4b")),me=n("b974"),fe=Object(u["a"])(de,ee,ne,!1,null,"72f55f5b",null),pe=fe.exports;v()(fe,{VBtn:m["a"],VCard:St["a"],VCol:nt["a"],VContainer:j["a"],VDatePicker:ve["a"],VDialog:Tt["a"],VForm:Dt["a"],VIcon:S["a"],VList:T["a"],VListItem:D["a"],VListItemTitle:E["c"],VMenu:Et["a"],VRow:at["a"],VSelect:me["a"],VSimpleTable:B["a"],VSpacer:$["a"],VTextField:wt["a"]});var he=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container")},be=[],ke={},ge=ke,_e=Object(u["a"])(ge,he,be,!1,null,null,null),xe=_e.exports;v()(_e,{VContainer:j["a"]});var ye=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("div",{staticClass:"d-flex justify-space-between align-center mb-4"},[n("Breadcrumbs"),n("div",[n("v-btn",{staticClass:"primary mr-2",on:{click:function(e){t.dialogSingle=!0}}},[t._v("Add")]),n("v-btn",{staticClass:"primary",on:{click:function(e){t.dialogRecurring=!0}}},[t._v("Add Recurring")])],1)],1),n("v-dialog",{attrs:{"max-width":"500"},model:{value:t.dialogSingle,callback:function(e){t.dialogSingle=e},expression:"dialogSingle"}},[n("v-card",[n("v-container",[n("v-form",{on:{submit:function(e){return e.preventDefault(),t.addEvent(e)}}},[n("v-select",{attrs:{"return-object":"",items:t.getSubjects,label:"Select class","item-text":"name",solo:""},model:{value:t.eventDetails.selectedClass,callback:function(e){t.$set(t.eventDetails,"selectedClass",e)},expression:"eventDetails.selectedClass"}}),n("div",{on:{click:function(e){t.dialogSubject=!0}}},[n("v-icon",{staticClass:"mr-2"},[t._v("add")]),n("span",[t._v("Add new class")])],1),n("v-menu",{ref:"dateMenu",attrs:{"close-on-content-click":!1,"return-value":t.dateMenu,transition:"scale-transition","offset-y":"","min-width":"290px"},on:{"update:returnValue":function(e){t.dateMenu=e},"update:return-value":function(e){t.dateMenu=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[n("v-text-field",t._g({attrs:{label:"Date","prepend-icon":"event",readonly:""},model:{value:t.eventDetails.start,callback:function(e){t.$set(t.eventDetails,"start",e)},expression:"eventDetails.start"}},a))]}}]),model:{value:t.dateMenu,callback:function(e){t.dateMenu=e},expression:"dateMenu"}},[n("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:t.eventDetails.start,callback:function(e){t.$set(t.eventDetails,"start",e)},expression:"eventDetails.start"}},[n("v-spacer"),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.dateMenu=!1}}},[t._v("Cancel")]),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.dateMenu.save(t.dateMenu)}}},[t._v("OK")])],1)],1),n("div",{staticClass:"d-flex justify-space-between"},[n("div",{staticClass:"d-flex justify-space-between my-2"},[n("div",[t._v(" Start time "),n("v-menu",{ref:"timeMenu1",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":t.timeMenu1,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(e){t.timeMenu1=e},"update:return-value":function(e){t.timeMenu1=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[n("v-text-field",t._g({attrs:{label:"Pick time","prepend-icon":"access_time",readonly:""},model:{value:t.eventDetails.startTime,callback:function(e){t.$set(t.eventDetails,"startTime",e)},expression:"eventDetails.startTime"}},a))]}}]),model:{value:t.timeMenu1,callback:function(e){t.timeMenu1=e},expression:"timeMenu1"}},[t.timeMenu1?n("v-time-picker",{attrs:{"full-width":""},on:{"click:minute":function(e){return t.$refs.timeMenu1.save(t.timeMenu1)}},model:{value:t.eventDetails.startTime,callback:function(e){t.$set(t.eventDetails,"startTime",e)},expression:"eventDetails.startTime"}}):t._e()],1)],1)]),n("div",{staticClass:"d-flex justify-space-between my-2"},[n("div",[t._v(" End time "),n("v-menu",{ref:"timeMenu2",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":t.timeMenu2,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(e){t.timeMenu2=e},"update:return-value":function(e){t.timeMenu2=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[n("v-text-field",t._g({attrs:{label:"Pick time","prepend-icon":"access_time",readonly:""},model:{value:t.eventDetails.endTime,callback:function(e){t.$set(t.eventDetails,"endTime",e)},expression:"eventDetails.endTime"}},a))]}}]),model:{value:t.timeMenu2,callback:function(e){t.timeMenu2=e},expression:"timeMenu2"}},[t.timeMenu2?n("v-time-picker",{attrs:{"full-width":""},on:{"click:minute":function(e){return t.$refs.timeMenu2.save(t.timeMenu2)}},model:{value:t.eventDetails.endTime,callback:function(e){t.$set(t.eventDetails,"endTime",e)},expression:"eventDetails.endTime"}}):t._e()],1)],1)])]),n("v-text-field",{attrs:{label:"Room"},model:{value:t.eventDetails.room,callback:function(e){t.$set(t.eventDetails,"room",e)},expression:"eventDetails.room"}}),n("v-btn",{staticClass:"mr-4",attrs:{type:"submit",color:"primary"}},[t._v(" Create event ")])],1),t.editMode?n("v-btn",{staticClass:"mr-4",attrs:{color:"primary"},on:{click:t.editEvent}},[t._v(" Edit event ")]):t._e()],1)],1)],1),n("v-dialog",{attrs:{"max-width":"500"},model:{value:t.dialogRecurring,callback:function(e){t.dialogRecurring=e},expression:"dialogRecurring"}},[n("v-card",[n("v-card-text",[n("v-container",[n("v-form",{on:{submit:function(e){return e.preventDefault(),t.addRecurringEvent(e)}}},[n("v-select",{attrs:{"return-object":"",items:t.getSubjects,label:"Select class","item-text":"name",solo:""},model:{value:t.eventDetails.selectedClass,callback:function(e){t.$set(t.eventDetails,"selectedClass",e)},expression:"eventDetails.selectedClass"}}),n("div",[n("v-icon",{staticClass:"mr-2",on:{click:function(e){t.dialogSubject=!0}}},[t._v("add")]),n("span",[t._v("Add new class")])],1),n("v-menu",{ref:"dateMenuRec",attrs:{"close-on-content-click":!1,"return-value":t.dateMenuRec,transition:"scale-transition","offset-y":"","min-width":"290px"},on:{"update:returnValue":function(e){t.dateMenuRec=e},"update:return-value":function(e){t.dateMenuRec=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[n("v-text-field",t._g({attrs:{label:"Date","prepend-icon":"event",readonly:""},model:{value:t.eventDetails.startRecur,callback:function(e){t.$set(t.eventDetails,"startRecur",e)},expression:"eventDetails.startRecur"}},a))]}}]),model:{value:t.dateMenuRec,callback:function(e){t.dateMenuRec=e},expression:"dateMenuRec"}},[n("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:t.eventDetails.startRecur,callback:function(e){t.$set(t.eventDetails,"startRecur",e)},expression:"eventDetails.startRecur"}},[n("v-spacer"),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.dateMenuRec=!1}}},[t._v("Cancel")]),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.dateMenuRec.save(t.dateMenuRec)}}},[t._v("OK")])],1)],1),n("v-menu",{ref:"dateMenuRec2",attrs:{"close-on-content-click":!1,"return-value":t.dateMenuRec2,transition:"scale-transition","offset-y":"","min-width":"290px"},on:{"update:returnValue":function(e){t.dateMenuRec2=e},"update:return-value":function(e){t.dateMenuRec2=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[n("v-text-field",t._g({attrs:{label:"Date","prepend-icon":"event",readonly:""},model:{value:t.eventDetails.endRecur,callback:function(e){t.$set(t.eventDetails,"endRecur",e)},expression:"eventDetails.endRecur"}},a))]}}]),model:{value:t.dateMenuRec2,callback:function(e){t.dateMenuRec2=e},expression:"dateMenuRec2"}},[n("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:t.eventDetails.endRecur,callback:function(e){t.$set(t.eventDetails,"endRecur",e)},expression:"eventDetails.endRecur"}},[n("v-spacer"),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.dateMenuRec2=!1}}},[t._v("Cancel")]),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.dateMenuRec2.save(t.dateMenuRec2)}}},[t._v("OK")])],1)],1),n("v-select",{attrs:{items:t.daysa,"item-text":"dayName","item-value":"id",label:"Repeat every",solo:""},model:{value:t.eventDetails.daysOfWeek,callback:function(e){t.$set(t.eventDetails,"daysOfWeek",e)},expression:"eventDetails.daysOfWeek"}}),n("v-text-field",{attrs:{label:"Room"},model:{value:t.eventDetails.room,callback:function(e){t.$set(t.eventDetails,"room",e)},expression:"eventDetails.room"}}),n("v-btn",{staticClass:"mr-4",attrs:{type:"submit",color:"primary"}},[t._v(" Create event ")])],1),n("v-btn",{staticClass:"mr-4",attrs:{color:"primary"},on:{click:t.editRecurringEvent}},[t._v(" Edit event ")])],1)],1)],1)],1),n("v-dialog",{attrs:{"max-width":"500"},model:{value:t.dialogSubject,callback:function(e){t.dialogSubject=e},expression:"dialogSubject"}},[n("v-card",[n("v-container",[n("v-form",{on:{submit:function(t){t.preventDefault()}}},[n("v-text-field",{attrs:{type:"text",label:"Subject name"},model:{value:t.subjectName,callback:function(e){t.subjectName=e},expression:"subjectName"}}),n("v-btn",{staticClass:"mr-4",attrs:{type:"submit",color:"primary"},on:{click:[t.addSubject,function(e){e.stopPropagation(),t.dialogSubject=!1}]}},[t._v(" Create subject ")])],1)],1)],1)],1),n("v-simple-table",{staticClass:"elevation-1",scopedSlots:t._u([{key:"default",fn:function(){return[n("thead",[n("tr",[n("th",{staticClass:"text-left table-header font-weight-black"},[n("v-icon",{staticClass:"mr-2"},[t._v("class")]),t._v(" Class ")],1),n("th",{staticClass:"text-left table-header font-weight-black"},[n("v-icon",{staticClass:"mr-2"},[t._v("calendar_today")]),t._v(" Day ")],1),n("th",{staticClass:"text-left table-header font-weight-black"},[n("v-icon",{staticClass:"mr-2"},[t._v("schedule")]),t._v(" Time ")],1),n("th",{staticClass:"text-left table-header font-weight-black"},[n("v-icon",{staticClass:"mr-2"},[t._v("person")]),t._v(" Teacher ")],1),n("th",{staticClass:"text-left table-header font-weight-black"},[n("v-icon",{staticClass:"mr-2"},[t._v("room")]),t._v(" Room ")],1),n("th",{staticClass:"text-left table-header font-weight-black"},[t._v(" Action ")])])]),n("tbody",t._l(t.getSchedule,(function(e){return n("tr",{key:e._id},[n("td",[n("router-link",{attrs:{to:"subject/"+e.subject._id}},[t._v(" "+t._s(e.title)+" ")])],1),e.daysOfWeek?n("td",[n("span",{staticClass:"font-weight-medium"},[t._v("Every "+t._s(t.days[e.daysOfWeek]))]),t._v(" ("+t._s(e.startRecur)+" - "+t._s(e.endRecur)+") ")]):n("td",[n("span",{staticClass:"font-weight-medium"},[t._v(t._s(t.days[new Date(e.start).getDay()])+" ")]),e.start?n("span",[t._v("("+t._s(e.start.toString().substr(0,10))+")")]):t._e()]),n("td",[e.start?n("span",[t._v(" "+t._s(e.start.toString().substr(11,15))+" ")]):t._e(),t._v(" - "),e.end?n("span",[t._v(" "+t._s(e.end.toString().substr(11,15))+" ")]):t._e()]),n("td",[t._v(" "+t._s(e.subject.teacher)+" ")]),n("td",[t._v(" "+t._s(e.room)+" ")]),n("td",[n("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[n("v-icon",t._g({attrs:{color:"primary",dark:""}},a),[t._v(" more_vert ")])]}}],null,!0)},[n("v-list",[n("v-list-item",[n("v-list-item-title",[n("v-btn",{attrs:{text:""},on:{click:function(n){return t.editSchedule(e)}}},[t._v("Edit")])],1)],1),n("v-list-item",[n("v-list-item-title",[n("v-btn",{attrs:{text:""},on:{click:function(n){return t.deleteScheduleElement(e._id)}}},[t._v("Delete")])],1)],1)],1)],1)],1)])})),0)]},proxy:!0}])})],1)},je=[],Ce=n("5530"),Se={name:"Schedule",components:{Breadcrumbs:pt},data:function(){return{dialogSingle:!1,dialogRecurring:!1,days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysa:[{id:0,dayName:"Sunday"},{id:1,dayName:"Monday"},{id:2,dayName:"Tuesday"},{id:3,dayName:"Wednesday"},{id:4,dayName:"Thursday"},{id:5,dayName:"Friday"},{id:6,dayName:"Saturday"}],timeMenu1:!1,timeMenu2:!1,timeMenu:!1,dateMenu:!1,timeMenuRec:!1,dateMenuRec:!1,dateMenuRec2:!1,dialogSubject:!1,subjectName:null,eventDetails:{title:"",start:null,startTime:null,endTime:null,startTimeRecur:null,endTimeRecur:null,startRecur:null,endRecur:null,daysOfWeek:null,selectedClass:null,room:null},editMode:!1}},methods:{editSchedule:function(t){t.daysOfWeek?(this.dialogRecurring=!0,this.editMode=!0,this.eventDetails=Object(Ce["a"])({},t,{selectedClass:t.subject})):(this.dialogSingle=!0,this.editMode=!0,this.eventDetails={eventId:t._id,selectedClass:t.subject,start:t.start.substr(0,10),room:t.room,startTime:t.start.substr(11,15)})},editEvent:function(){var t=this;this.$store.dispatch("editScheduleEvent",{eventId:this.eventDetails.eventId,title:this.eventDetails.selectedClass.name,start:this.eventDetails.start+"T".concat(this.eventDetails.startTime),end:this.eventDetails.start+"T".concat(this.eventDetails.endTime),subject:this.eventDetails.selectedClass._id,room:this.eventDetails.room}).then((function(){t.editMode=!1,t.dialogSingle=!1}))},editRecurringEvent:function(){var t=this;this.$store.dispatch("editRecurringScheduleEvent",{eventId:this.eventDetails._id,title:this.eventDetails.selectedClass.name,subject:this.eventDetails.selectedClass._id,room:this.eventDetails.room,daysOfWeek:this.eventDetails.daysOfWeek,startRecurence:this.eventDetails.startRecur,endRecurence:this.eventDetails.endRecur}).then((function(){t.editMode=!1,t.dialogRecurring=!1}))},addEvent:function(){this.$store.dispatch("addEvent",{title:this.eventDetails.selectedClass.name,start:this.eventDetails.start+"T".concat(this.eventDetails.startTime),end:this.eventDetails.start+"T".concat(this.eventDetails.endTime),subject:this.eventDetails.selectedClass._id,room:this.eventDetails.room,daysOfWeek:null}),this.dialogSingle=!1,this.eventDetails={title:"",start:null,startTime:null,endTime:null,startRecur:null,endRecur:null,daysOfWeek:null,room:null}},addRecurringEvent:function(){var t=this;this.$store.dispatch("addEvent",{title:this.eventDetails.selectedClass.name,subject:this.eventDetails.selectedClass._id,room:this.eventDetails.room,daysOfWeek:this.eventDetails.daysOfWeek,startRecurence:this.eventDetails.startRecur,endRecurence:this.eventDetails.endRecur}).then((function(){t.dialogRecurring=!1}))},addSubject:function(){var t=this;this.$store.dispatch("addSubject",{name:this.subjectName}).then((function(){t.$store.dispatch("showSnackbar",{snackbar:!0,color:"success",text:"New class scheduled"})}))},deleteScheduleElement:function(t){this.$store.dispatch("deleteEvent",t)},fetchSchedule:function(){this.$store.dispatch("getEvents")}},computed:{getSchedule:function(){return this.$store.getters.eventsGetter.filter((function(t){return t.subject&&!t.exam}))},getSubjects:function(){return this.$store.getters.getSubjects}},watch:{dialogSingle:function(t){t||(this.eventDetails={title:"",start:null,startTime:null,endTime:null,startTimeRecur:null,endTimeRecur:null,startRecur:null,endRecur:null,daysOfWeek:null,selectedClass:null,room:null})}},mounted:function(){this.fetchSchedule()}},Te=Se,De=(n("01cb"),Object(u["a"])(Te,ye,je,!1,null,"621fc86c",null)),Ee=De.exports;v()(De,{VBtn:m["a"],VCard:St["a"],VCardText:zt["b"],VContainer:j["a"],VDatePicker:ve["a"],VDialog:Tt["a"],VForm:Dt["a"],VIcon:S["a"],VList:T["a"],VListItem:D["a"],VListItemTitle:E["c"],VMenu:Et["a"],VSelect:me["a"],VSimpleTable:B["a"],VSpacer:$["a"],VTextField:wt["a"],VTimePicker:re["a"]});var we=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",md:"12"}},[n("div",[n("Breadcrumbs")],1)])],1),n("v-dialog",{attrs:{"max-width":"500"},model:{value:t.dialogProject,callback:function(e){t.dialogProject=e},expression:"dialogProject"}},[n("v-card",[n("v-container",[n("v-form",{on:{submit:function(t){t.preventDefault()}}},[n("div",{staticClass:"d-flex"},[n("v-text-field",{attrs:{type:"text",label:"Project name"},model:{value:t.project.projectName,callback:function(e){t.$set(t.project,"projectName",e)},expression:"project.projectName"}}),n("v-icon",{on:{click:function(e){t.colorPicker=!t.colorPicker}}},[t._v("palette")])],1),t.colorPicker?n("ColorPicker",{staticClass:"mb-8 ml-0",on:{changeColor:function(e){return t.changeColor(e)}},model:{value:t.project.color,callback:function(e){t.$set(t.project,"color",e)},expression:"project.color"}}):t._e(),n("v-btn",{staticClass:"mr-4",attrs:{type:"submit",color:"primary"},on:{click:[t.addProject,function(e){e.stopPropagation(),t.dialogProject=!1}]}},[t._v(" Create project ")])],1)],1)],1)],1),n("v-dialog",{attrs:{"max-width":"500"},model:{value:t.dialogEditProject,callback:function(e){t.dialogEditProject=e},expression:"dialogEditProject"}},[n("v-card",[n("v-container",[n("v-form",{on:{submit:function(t){t.preventDefault()}}},[n("div",{staticClass:"d-flex"},[t.currentProject?n("v-text-field",{attrs:{type:"text",label:"Project name"},model:{value:t.currentProject.name,callback:function(e){t.$set(t.currentProject,"name",e)},expression:"currentProject.name"}}):t._e(),n("v-icon",{on:{click:function(e){t.colorPicker=!t.colorPicker}}},[t._v("palette")])],1),t.colorPicker?n("ColorPicker",{staticClass:"mb-8 ml-0",on:{changeColor:function(e){return t.changeProjectColor(e)}},model:{value:t.currentProject.color,callback:function(e){t.$set(t.currentProject,"color",e)},expression:"currentProject.color"}}):t._e(),n("v-btn",{staticClass:"mr-4",attrs:{type:"submit",color:"primary"},on:{click:[function(e){return t.editProject(t.currentProject)},function(e){e.stopPropagation(),t.dialogEditProject=!1}]}},[t._v(" Edit project ")])],1)],1)],1)],1),n("v-dialog",{attrs:{"max-width":"500"},model:{value:t.dialogTask,callback:function(e){t.dialogTask=e},expression:"dialogTask"}},[n("v-card",[n("v-container",[n("v-form",{on:{submit:function(t){t.preventDefault()}}},[n("v-text-field",{attrs:{type:"text",label:"Task"},model:{value:t.taskName,callback:function(e){t.taskName=e},expression:"taskName"}}),n("v-select",{attrs:{items:t.getProjects,label:"Select project","item-text":"name","item-value":"_id",solo:""},model:{value:t.selectedProject,callback:function(e){t.selectedProject=e},expression:"selectedProject"}}),n("v-select",{attrs:{items:t.priorities,label:"Select priority","item-text":"name","item-value":"color","return-object":"",solo:""},model:{value:t.selectedPriority,callback:function(e){t.selectedPriority=e},expression:"selectedPriority"}}),n("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":t.date,transition:"scale-transition","offset-y":"","min-width":"290px"},on:{"update:returnValue":function(e){t.date=e},"update:return-value":function(e){t.date=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[n("v-text-field",t._g({attrs:{label:"Due date","prepend-icon":"event",readonly:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},a))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[n("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},[n("v-spacer"),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.menu=!1}}},[t._v("Cancel")]),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.menu.save(t.date)}}},[t._v("OK")])],1)],1),n("v-btn",{staticClass:"mr-4",attrs:{type:"submit",color:"primary"},on:{click:[t.addTask,function(e){e.stopPropagation(),t.dialogTask=!1}]}},[t._v(" Create task ")])],1)],1)],1)],1),n("v-dialog",{attrs:{"max-width":"500"},model:{value:t.dialogEditTask,callback:function(e){t.dialogEditTask=e},expression:"dialogEditTask"}},[n("v-card",[n("v-container",[n("v-form",{on:{submit:function(t){t.preventDefault()}}},[t.currentTask?n("v-text-field",{attrs:{type:"text",label:"Task"},model:{value:t.currentTask.name,callback:function(e){t.$set(t.currentTask,"name",e)},expression:"currentTask.name"}}):t._e(),t.currentTask?n("v-select",{attrs:{items:t.getProjects,label:"Select project","item-text":"name","item-value":"_id",solo:""},model:{value:t.currentTask.project,callback:function(e){t.$set(t.currentTask,"project",e)},expression:"currentTask.project"}}):t._e(),t.currentTask?n("v-select",{attrs:{items:t.priorities,label:"Select priority","item-text":"name","item-value":"color","return-object":"",solo:""},model:{value:t.currentTask.priority,callback:function(e){t.$set(t.currentTask,"priority",e)},expression:"currentTask.priority"}}):t._e(),n("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":t.date,transition:"scale-transition","offset-y":"","min-width":"290px"},on:{"update:returnValue":function(e){t.date=e},"update:return-value":function(e){t.date=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[t.currentTask?n("v-text-field",t._g({attrs:{label:"Due date","prepend-icon":"event",readonly:""},model:{value:t.currentTask.dueDate,callback:function(e){t.$set(t.currentTask,"dueDate",e)},expression:"currentTask.dueDate"}},a)):t._e()]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[t.currentTask?n("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:t.currentTask.dueDate,callback:function(e){t.$set(t.currentTask,"dueDate",e)},expression:"currentTask.dueDate"}},[n("v-spacer"),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.menu=!1}}},[t._v("Cancel")]),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.menu.save(t.date)}}},[t._v("OK")])],1):t._e()],1),n("v-btn",{staticClass:"mr-4",attrs:{type:"submit",color:"primary"},on:{click:[function(e){return t.editTask(t.currentTask)},function(e){e.stopPropagation(),t.dialogEditTask=!1}]}},[t._v(" Edit task ")])],1)],1)],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"12",md:"3"}},[n("v-card",{staticClass:"mx-auto rounded px-4 py-6",attrs:{"max-width":"400",tile:""}},[n("div",{staticClass:"d-flex align-center mb-4",on:{click:function(e){t.dialogProject=!0}}},[n("v-btn",{attrs:{icon:""}},[n("v-icon",[t._v("add")])],1),n("span",{staticClass:"body-2"},[t._v("Add project")])],1),0==t.getProjects.length?n("div",{staticClass:"text-center"},[n("p",[t._v("No projects added")])]):t._l(t.getProjects,(function(e){return n("div",{key:e._id,staticClass:"mb-4"},[n("div",{staticClass:"d-flex justify-space-between"},[n("div",[n("v-icon",{staticClass:"mr-4",attrs:{color:e.color}},[t._v(" fiber_manual_record ")]),n("span",{staticClass:"caption",on:{click:function(n){t.projectId=e._id}}},[t._v(t._s(e.name))])],1),n("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[n("v-icon",t._g({},a),[t._v(" more_vert ")])]}}],null,!0)},[n("v-list",[n("v-list-item",[n("v-list-item-title",{staticClass:"body-2",on:{click:function(n){return t.updateEditProjectDialog(e)}}},[n("v-icon",{staticClass:"mr-2"},[t._v("create")]),t._v(" Edit ")],1)],1),n("v-list-item",[n("v-list-item-title",{staticClass:"body-2",on:{click:function(n){return t.deleteProject(e._id)}}},[n("v-icon",{staticClass:"mr-2"},[t._v("delete")]),t._v(" Delete ")],1)],1)],1)],1)],1)])}))],2)],1),n("v-col",{attrs:{cols:"12",md:"9"}},[n("v-text-field",{attrs:{label:"Search tasks",filled:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),n("div",{staticClass:"d-flex justify-space-between align-center mb-4"},[n("div",{staticClass:"d-flex align-center"},[n("span",{staticClass:"mr-4"},[t._v("Tasks")]),n("span",{staticClass:"caption display-all",on:{click:function(e){t.projectId=null}}},[t._v("Display all tasks")])]),n("v-btn",{staticClass:"primary",on:{click:function(e){t.dialogTask=!0}}},[n("v-icon",{staticClass:"mr-2"},[t._v("add")]),t._v(" Add task ")],1)],1),0==t.filterTasks.length?n("div",{staticClass:"text-center pt-4"},[n("p",{staticClass:"headline"},[t._v("No tasks")])]):n("v-simple-table",{staticClass:"mb-8 pt-4 elevation-1 rounded",scopedSlots:t._u([{key:"default",fn:function(){return[n("thead",[n("tr",[n("th",{staticClass:"text-left"},[t._v("Complete")]),n("th",{staticClass:"text-left"},[t._v("Name")]),n("th",{staticClass:"text-left"},[t._v("Due date")]),n("th",{staticClass:"text-left"},[t._v("Priority")]),n("th",{staticClass:"text-left"},[t._v("Action")])])]),n("tbody",t._l(t.filterTasks,(function(e){return n("tr",{key:e._id,staticClass:"mt-2"},[n("td",[n("v-btn",{staticClass:"check-icon",attrs:{icon:""},on:{click:function(n){return t.deleteTask(e._id)}}},[n("v-icon",[t._v("check_circle_outline")])],1)],1),n("td",[t._v(t._s(e.name))]),e.dueDate?n("td",[t._v(t._s(e.dueDate))]):n("td",[t._v("-")]),e.priority?n("td",[n("v-chip",{staticClass:"ma-2",attrs:{color:e.priority.color,"text-color":"white",small:""}},[n("v-avatar",{attrs:{left:""}},[n("v-icon",[t._v("flag")])],1),t._v(" "+t._s(e.priority.name)+" ")],1)],1):n("td",[t._v(" - ")]),n("td",[n("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[n("v-icon",t._g({},a),[t._v(" more_vert ")])]}}],null,!0)},[n("v-list",[n("v-list-item",[n("v-list-item-title",{staticClass:"body-2",on:{click:function(n){return t.updateEditTaskDialog(e)}}},[n("v-icon",{staticClass:"mr-2"},[t._v("create")]),t._v(" Edit ")],1)],1),n("v-list-item",[n("v-list-item-title",{staticClass:"body-2",on:{click:function(n){return t.deleteTask(e._id)}}},[n("v-icon",{staticClass:"mr-2"},[t._v("delete")]),t._v(" Delete ")],1)],1)],1)],1)],1)])})),0)]},proxy:!0}])})],1)],1)],1)},Re=[],$e={name:"Todo",components:{Breadcrumbs:pt,ColorPicker:yt},data:function(){return{dialogTask:!1,dialogEditTask:!1,dialogEditProject:!1,dialogProject:!1,menu:!1,taskName:"",selectedProject:null,colorPicker:!1,date:"",search:"",priorities:[{name:"Priority 1",color:"red"},{name:"Priority 2",color:"orange"},{name:"Priority 3",color:"green"}],selectedPriority:null,projectId:null,project:{projectName:null,color:null},currentTask:null,currentProject:null}},methods:{fetchTasks:function(){this.$store.dispatch("fetchTasks")},addTask:function(){var t=this;this.$store.dispatch("addTask",{name:this.taskName,project:this.selectedProject,dueDate:this.date,priority:this.selectedPriority}).then((function(){t.taskName=null,t.selectedProject=null,t.date=null,t.selectedPriority=null,t.$store.dispatch("showSnackbar",{snackbar:!0,color:"success",text:"New task added"})})).catch((function(t){return console.log(t)}))},editTask:function(t){var e=this;this.$store.dispatch("editTask",t).then((function(){e.$store.dispatch("showSnackbar",{snackbar:!0,color:"success",text:"Task updated"})}))},deleteTask:function(t){var e=this;this.$store.dispatch("deleteTask",t).then((function(){e.$store.dispatch("showSnackbar",{snackbar:!0,color:"success",text:"Task deleted"})}))},fetchProjects:function(){this.$store.dispatch("fetchProjects")},addProject:function(){var t=this;this.$store.dispatch("addProject",this.project).then((function(){t.project.projectName=null,t.project.color=null})).then((function(){t.$store.dispatch("showSnackbar",{snackbar:!0,color:"success",text:"New project created"})}))},editProject:function(t){var e=this;this.$store.dispatch("editProject",t).then((function(){e.$store.dispatch("showSnackbar",{snackbar:!0,color:"success",text:"Project edited"})}))},deleteProject:function(t){var e=this;this.$store.dispatch("deleteProject",t).then((function(){e.$store.dispatch("showSnackbar",{snackbar:!0,color:"success",text:"Project deleted"})}))},updateEditTaskDialog:function(t){this.currentTask=t,this.dialogEditTask=!0},updateEditProjectDialog:function(t){this.dialogEditProject=!0,this.currentProject=t},changeColor:function(t){this.project.color=t},changeProjectColor:function(t){this.currentProject.color=t}},computed:{filterTasks:function(){var t=this;return this.getTasks.filter((function(e){return null===t.projectId?e.name.toLowerCase().match(t.search):e.name.toLowerCase().match(t.search)&&e.project===t.projectId}))},getTasks:function(){return this.$store.getters.getTasks},getProjects:function(){return this.$store.getters.getProjects}},mounted:function(){this.fetchTasks(),this.fetchProjects()}},Ve=$e,Pe=(n("375d"),Object(u["a"])(Ve,we,Re,!1,null,null,null)),Ne=Pe.exports;v()(Pe,{VAvatar:X["a"],VBtn:m["a"],VCard:St["a"],VChip:H["a"],VCol:nt["a"],VContainer:j["a"],VDatePicker:ve["a"],VDialog:Tt["a"],VForm:Dt["a"],VIcon:S["a"],VList:T["a"],VListItem:D["a"],VListItemTitle:E["c"],VMenu:Et["a"],VRow:at["a"],VSelect:me["a"],VSimpleTable:B["a"],VSpacer:$["a"],VTextField:wt["a"]});var Me=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container d-flex align-center",staticStyle:{height:"100vh"}},[n("v-row",{staticClass:"justify-center"},[n("v-col",{attrs:{cols:"12",md:"4"}},[n("div",{staticClass:"auth-form-container elevation-3"},[n("div",{staticClass:"white--text py-8 px-4 text-center",staticStyle:{"background-color":"#1565C0"}},[n("p",{staticClass:"mb-0"},[t._v("Student Tools Integrator")])]),n("v-form",{staticClass:"text-center px-8 py-8",on:{submit:function(e){return e.preventDefault(),t.signIn(e)}}},[n("div",{staticClass:"d-flex justify-center flex-column"},[n("v-icon",{staticClass:"mb-4",attrs:{color:"blue"}},[t._v("toll")]),t._v(" Login ")],1),n("v-text-field",{attrs:{label:"E-mail",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),n("v-text-field",{attrs:{label:"Password",type:"password",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),n("p",{staticClass:"mt-4 mb-4"},[t._v("Don't have an account? "),n("router-link",{attrs:{to:"register"}},[t._v(" Sign up ")])],1),n("v-btn",{attrs:{color:"primary",type:"submit"}},[t._v("Login")])],1)],1)])],1)],1)},Oe=[],qe={data:function(){return{email:"",password:""}},methods:{signIn:function(){var t=this;this.$store.dispatch("signIn",{email:this.email,password:this.password}).then((function(){t.$store.dispatch("showSnackbar",{snackbar:!0,color:"success",text:"Successfully logged in"}),t.$router.push("/")})).catch((function(e){t.$store.dispatch("showSnackbar",{snackbar:!0,color:"error",text:"".concat(e.response.data.error)}),console.log(e.response.data.error)}))}}},Ae=qe,Ie=(n("8b4b"),Object(u["a"])(Ae,Me,Oe,!1,null,"afe5f40a",null)),Fe=Ie.exports;v()(Ie,{VBtn:m["a"],VCol:nt["a"],VForm:Dt["a"],VIcon:S["a"],VRow:at["a"],VTextField:wt["a"]});var Le=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container d-flex align-center",staticStyle:{height:"100vh"}},[n("v-row",{staticClass:"justify-center"},[n("v-col",{attrs:{cols:"12",md:"4"}},[n("div",{staticClass:"auth-form-container elevation-3"},[n("div",{staticClass:"white--text py-8 px-4 text-center",staticStyle:{"background-color":"#1565C0"}},[n("p",{staticClass:"mb-0"},[t._v("Student Tools Integrator")])]),n("v-form",{staticClass:"text-center px-8 py-8",on:{submit:function(e){return e.preventDefault(),t.signUp(e)}}},[n("div",{staticClass:"d-flex justify-center flex-column"},[n("v-icon",{staticClass:"mb-4",attrs:{color:"blue"}},[t._v("toll")]),t._v(" Register ")],1),n("v-text-field",{attrs:{label:"E-mail",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),n("v-text-field",{attrs:{label:"Password",type:"password",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),n("p",{staticClass:"mt-4 mb-4"},[t._v("Already have an account? "),n("router-link",{attrs:{to:"login"}},[t._v(" Sign in ")])],1),n("v-btn",{attrs:{color:"primary",type:"submit"}},[t._v("Register")])],1)],1)])],1)],1)},Ue=[],Be={data:function(){return{email:"",password:""}},methods:{signUp:function(){var t=this;this.$store.dispatch("signUp",{email:this.email,password:this.password}).then((function(){t.$store.dispatch("showSnackbar",{snackbar:!0,color:"success",text:"Successfully registered"}),t.$router.push("/login")})).catch((function(e){t.$store.dispatch("showSnackbar",{snackbar:!0,color:"error",text:"".concat(e.response.data.error)}),console.log(e.response.data.error)}))}}},We=Be,Ke=(n("f894"),Object(u["a"])(We,Le,Ue,!1,null,"2385bc86",null)),Ge=Ke.exports;v()(Ke,{VBtn:m["a"],VCol:nt["a"],VForm:Dt["a"],VIcon:S["a"],VRow:at["a"],VTextField:wt["a"]});var Je=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("div",{staticClass:"d-flex justify-space-between align-center"},[n("Breadcrumbs"),n("v-btn",{staticClass:"primary",on:{click:function(e){t.dialog=!0}}},[t._v("Add event")])],1),n("FullCalendar",{attrs:{defaultView:"dayGridMonth",plugins:t.plugins,header:t.header,events:t.getEvents,eventTextColor:t.eventTextColor,height:700},on:{eventClick:t.eventInfo}}),n("AddEventDialog",{model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}}),n("div",{staticClass:"text-center"},[n("v-dialog",{attrs:{width:"500"},on:{input:function(e){return e||t.cleanCurrentEvent()}},model:{value:t.eventDialog,callback:function(e){t.eventDialog=e},expression:"eventDialog"}},[t.currentEvent?n("v-card",[n("v-card-title",{staticClass:"headline primary"},[n("p",{staticClass:"white--text"},[t._v(t._s(t.currentEvent.title))])]),n("v-card-text",{staticClass:"pt-6"},[n("div",{staticClass:"d-flex align-center"},[n("v-icon",{staticClass:"mr-4"},[t._v("date_range")]),n("p",{staticClass:"mb-0 subtitle-1"},[n("span",{staticClass:"font-weight-bold"},[t._v("From: ")]),t._v(" "+t._s(t.currentEvent.start.toString().substr(0,21))+" "),n("span",{staticClass:"font-weight-bold"},[t._v("To: ")]),t._v(" "+t._s(t.currentEvent.end.toString().substr(0,21))+" ")])],1),n("div",{staticClass:"d-flex align-center mt-4"},[n("v-icon",{staticClass:"mr-4"},[t._v("description")]),t.currentEvent.details?n("p",{staticClass:"mb-0 subtitle-1"},[t._v(t._s(t.currentEvent.details))]):n("p",{staticClass:"mb-0 subtitle-1"},[t._v("No description")])],1)]),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"primary"}},[t._v("Edit")]),n("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.deleteEvent(t.currentEvent.id)}}},[t._v("Delete")])],1)],1):t._e()],1)],1)],1)},ze=[],Qe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{value:t.value,fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition",scrollable:""},on:{input:function(e){return t.$emit("input")}}},[[n("v-card",[n("v-toolbar",{attrs:{flat:"",color:"primary",dark:""}},[n("v-icon",{staticClass:"mr-4",nativeOn:{click:function(e){return t.closeDialog(e)}}},[t._v("close")]),n("v-toolbar-title",[t._v("Create new event")])],1),n("v-tabs",[n("v-tab",[t._v("Create event")]),n("v-tab",[t._v("Create recurring event")]),n("v-tab-item",[n("v-card",{attrs:{flat:""}},[n("v-card-text",[n("v-container",[n("v-form",{on:{submit:function(e){return e.preventDefault(),t.addSingleEvent(e)}}},[n("v-text-field",{attrs:{type:"text",label:"Event name"},model:{value:t.eventDetails.title,callback:function(e){t.$set(t.eventDetails,"title",e)},expression:"eventDetails.title"}}),n("v-text-field",{attrs:{type:"text",label:"Event details (optional)"},model:{value:t.eventDetails.details,callback:function(e){t.$set(t.eventDetails,"details",e)},expression:"eventDetails.details"}}),n("DatePicker",{on:{pickDate:function(e){return t.pickStart(e)}}}),n("DatePicker",{on:{pickDate:function(e){return t.pickEnd(e)}}}),n("div",{staticClass:"d-flex justify-space-between my-2"},[n("div",[t._v(" Start time "),n("TimePicker",{on:{pickTime:function(e){return t.pickStartTime(e)}}})],1),n("div",[t._v(" End time "),n("TimePicker",{on:{pickTime:function(e){return t.pickEndTime(e)}}})],1)]),n("v-btn",{staticClass:"mr-4",attrs:{type:"submit",color:"primary"}},[t._v(" Create event ")])],1)],1)],1)],1)],1),n("v-tab-item",[n("v-card",{attrs:{flat:""}},[n("v-card-text",[n("v-container",[n("v-form",{on:{submit:function(e){return e.preventDefault(),t.addRecurringEvent(e)}}},[n("v-text-field",{attrs:{type:"text",label:"Event name"},model:{value:t.eventDetails.title,callback:function(e){t.$set(t.eventDetails,"title",e)},expression:"eventDetails.title"}}),n("DatePicker",{on:{pickDate:function(e){return t.pickStartDateRecur(e)}}}),n("DatePicker",{on:{pickDate:function(e){return t.pickEndDateRecur(e)}}}),n("div",{staticClass:"d-flex justify-space-between my-2"},[n("div",[t._v(" Start time "),n("TimePicker",{on:{pickTime:function(e){return t.pickStartTimeRecur(e)}}})],1),n("div",[t._v(" End time "),n("TimePicker",{on:{pickTime:function(e){return t.pickEndTimeRecur(e)}}})],1)]),n("v-select",{attrs:{items:t.days,"item-text":"dayName","item-value":"id",label:"Repeat every",solo:""},model:{value:t.eventDetails.daysOfWeek,callback:function(e){t.$set(t.eventDetails,"daysOfWeek",e)},expression:"eventDetails.daysOfWeek"}}),n("v-btn",{staticClass:"mr-4",attrs:{type:"submit",color:"primary"}},[t._v(" Create event ")])],1)],1)],1)],1)],1)],1)],1)]],2)},Xe=[],He=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":t.date,transition:"scale-transition","offset-y":"","min-width":"290px"},on:{"update:returnValue":function(e){t.date=e},"update:return-value":function(e){t.date=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[n("v-text-field",t._g({attrs:{label:"Pick date","prepend-icon":"event",readonly:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},a))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[n("v-date-picker",{attrs:{"no-title":"",scrollable:""},on:{input:t.pickDate},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},[n("v-spacer"),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.menu=!1}}},[t._v("Cancel")]),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.menu.save(t.date)}}},[t._v("OK")])],1)],1)},Ye=[],Ze={name:"DatePicker",data:function(){return{date:"",menu:!1}},methods:{pickDate:function(){this.$emit("pickDate",this.date)}}},tn=Ze,en=Object(u["a"])(tn,He,Ye,!1,null,null,null),nn=en.exports;v()(en,{VBtn:m["a"],VDatePicker:ve["a"],VMenu:Et["a"],VSpacer:$["a"],VTextField:wt["a"]});var an={data:function(){return{eventDetails:{title:null,start:null,end:null,startTime:null,endTime:null,startTimeRecur:null,endTimeRecur:null,startRecur:null,endRecur:null,daysOfWeek:null,details:null,dialogMutable:this.dialog},days:[{id:0,dayName:"Sunday"},{id:1,dayName:"Monday"},{id:2,dayName:"Tuesday"},{id:3,dayName:"Wednesday"},{id:4,dayName:"Thursday"},{id:5,dayName:"Friday"},{id:6,dayName:"Saturday"}]}},props:["value"],components:{DatePicker:nn,TimePicker:le},methods:{addSingleEvent:function(){var t=this;null!==this.eventDetails.startTime&&null!==this.eventDetails.endTime&&null!==this.eventDetails.start&&null!==this.eventDetails.end&&null!==this.eventDetails.title&&this.$store.dispatch("addEvent",{title:this.eventDetails.title,start:this.eventDetails.start+"T".concat(this.eventDetails.startTime),end:this.eventDetails.end+"T".concat(this.eventDetails.endTime),details:this.eventDetails.details,daysOfWeek:null}).then((function(){t.closeDialog(),t.eventDetails={title:null,start:null,end:null,startTime:null,endTime:null,details:null},t.$store.dispatch("showSnackbar",{snackbar:!0,color:"success",text:"New event created"})})),this.$store.dispatch("showSnackbar",{snackbar:!0,color:"error",text:"Fill in all fields"})},addRecurringEvent:function(){var t=this;null!==this.eventDetails.title&&null!==this.eventDetails.startRecur&&null!==this.eventDetails.endRecur&&this.$store.dispatch("addEvent",{title:this.eventDetails.title,startRecurence:this.eventDetails.startRecur,endRecurence:this.eventDetails.endRecur,startTime:this.eventDetails.startTimeRecur,endTime:this.eventDetails.endTimeRecur,details:this.eventDetails.details,daysOfWeek:this.eventDetails.daysOfWeek}).then((function(){t.closeDialog(),t.eventDetails={title:null,start:null,end:null,startTime:null,endTime:null,details:null},t.$store.dispatch("showSnackbar",{snackbar:!0,color:"success",text:"New event created"})})),this.$store.dispatch("showSnackbar",{snackbar:!0,color:"error",text:"Fill in all fields"})},pickStartDateRecur:function(t){this.eventDetails.startRecur=t},pickEndDateRecur:function(t){this.eventDetails.endRecur=t},pickStart:function(t){this.eventDetails.start=t},pickEnd:function(t){this.eventDetails.end=t},pickStartTime:function(t){this.eventDetails.startTime=t},pickEndTime:function(t){this.eventDetails.endTime=t},pickStartTimeRecur:function(t){this.eventDetails.startTimeRecur=t},pickEndTimeRecur:function(t){this.eventDetails.endTimeRecur=t},closeDialog:function(){this.$emit("input")}}},sn=an,cn=(n("459b"),n("71a3")),rn=n("c671"),on=n("fe57"),ln=n("71d9"),un=n("2a7f"),dn=Object(u["a"])(sn,Qe,Xe,!1,null,null,null),vn=dn.exports;v()(dn,{VBtn:m["a"],VCard:St["a"],VCardText:zt["b"],VContainer:j["a"],VDialog:Tt["a"],VForm:Dt["a"],VIcon:S["a"],VSelect:me["a"],VTab:cn["a"],VTabItem:rn["a"],VTabs:on["a"],VTextField:wt["a"],VToolbar:ln["a"],VToolbarTitle:un["a"]});var mn=n("dc09"),fn=n("88e1"),pn=n("a7c0"),hn={name:"Calendar",components:{FullCalendar:mn["a"],Breadcrumbs:pt,AddEventDialog:vn},data:function(){return{plugins:[fn["d"],pn["a"]],header:{left:"today, prev,next",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},eventTextColor:"#fff",eventDialog:!1,currentEvent:null,dialog:!1}},methods:{deleteEvent:function(t){var e=this;this.$store.dispatch("deleteEvent",t).then((function(){e.fetchEvents(),e.eventDialog=!1,e.$store.dispatch("showSnackbar",{snackbar:!0,color:"success",text:"Event deleted"})})).catch((function(t){return console.log(t)}))},eventInfo:function(t){this.eventDialog=!0,this.currentEvent={id:t.event.extendedProps._id,title:t.event.title,start:t.event.start,end:t.event.end,details:t.event.extendedProps.details}},cleanCurrentEvent:function(){this.currentEvent=null},fetchEvents:function(){this.$store.dispatch("getEvents")}},computed:{getEvents:function(){return this.$store.getters.eventsGetter}},mounted:function(){this.fetchEvents()}},bn=hn,kn=(n("a02d"),Object(u["a"])(bn,Je,ze,!1,null,null,null)),gn=kn.exports;v()(kn,{VBtn:m["a"],VCard:St["a"],VCardActions:zt["a"],VCardText:zt["b"],VCardTitle:zt["c"],VContainer:j["a"],VDialog:Tt["a"],VDivider:Qt["a"],VIcon:S["a"],VSpacer:$["a"]}),a["a"].use(O["a"]);var _n=[{path:"/",name:"Dashboard",component:it},{path:"/subjects",name:"Subjects",component:Vt},{path:"/subject/:id",name:"Subject",component:te},{path:"/calendar",name:"Calendar",component:gn},{path:"/exams",name:"Exams",component:pe},{path:"/offers",name:"Offers",component:xe},{path:"/schedule",name:"Schedule",component:Ee},{path:"/todo",name:"Todo",component:Ne},{path:"/login",name:"Login",component:Fe,meta:{hideNav:!0}},{path:"/register",name:"Register",component:Ge,meta:{hideNav:!0}}],xn=new O["a"]({mode:"history",base:"/",routes:_n}),yn=xn,jn=n("2f62"),Cn={state:{snackbar:null},mutations:{SET_SNACKBAR:function(t,e){t.snackbar=e}},actions:{showSnackbar:function(t,e){var n=t.commit;n("SET_SNACKBAR",e)}}},Sn=function(){return Ot.a.create({baseURL:"/api",headers:{Authorization:"Bearer ".concat($n.state.user.token)}})},Tn={state:{events:[]},getters:{eventsGetter:function(t){return t.events},upcomingEventsGetter:function(t){var e=new Date;return t.events.filter((function(t){if(t.start)return new Date(t.start.substr(0,10))>=e}))}},mutations:{SET_EVENTS:function(t,e){t.events=e},ADD_EVENT:function(t,e){t.events.push(e)}},actions:{getEvents:function(t){var e=t.commit;return Sn().get("events").then((function(t){e("SET_EVENTS",t.data)})).catch((function(t){console.log(t)}))},addEvent:function(t,e){t.commit;var n=t.dispatch;Sn().post("events/add",e).then((function(){n("getEvents")})).catch((function(t){return console.log(t)}))},deleteEvent:function(t,e){t.commit;var n=t.dispatch;Sn().delete("events/delete/".concat(e)).then((function(){n("getEvents")})).catch((function(t){return console.log(t)}))},editExamEvent:function(t,e){t.commit;var n=t.dispatch;Sn().patch("events/exam/edit/".concat(e._id),{title:e.subject.name+" exam",start:e.start+"T".concat(e.startTime),subject:e.subject._id,room:e.room}).then((function(){n("getEvents")})).catch((function(t){return console.log(t)}))},editScheduleEvent:function(t,e){t.commit;var n=t.dispatch;Sn().patch("events/schedule/edit/".concat(e.eventId),{title:e.title,start:e.start,end:e.end,subject:e.subject,room:e.room}).then((function(){n("getEvents")})).catch((function(t){console.log(t)}))},editRecurringScheduleEvent:function(t,e){t.commit;var n=t.dispatch;console.log(e.startRecurence,e.endRecurence),Sn().patch("events/scheduleRecurring/edit/".concat(e.eventId),{title:e.title,subject:e.subject,room:e.room,startRecur:e.startRecurence,endRecur:e.endRecurence,daysOfWeek:e.daysOfWeek}).then((function(){n("getEvents")})).catch((function(t){return console.log(t)}))}}},Dn={state:{tasks:[]},getters:{getTasks:function(t){return t.tasks}},mutations:{ADD_TASK:function(t,e){t.tasks.push(e)},SET_TASKS:function(t,e){t.tasks=e}},actions:{fetchTasks:function(t){var e=t.commit;return Sn().get("tasks").then((function(t){e("SET_TASKS",t.data)})).catch((function(t){return console.log(t)}))},addTask:function(t,e){var n=t.commit;Sn().post("tasks/add",e).then((function(t){n("ADD_TASK",t.data).catch((function(t){return console.log(t)}))}))},editTask:function(t,e){t.commit;var n=t.dispatch;Sn().patch("tasks/".concat(e._id,"/edit"),{name:e.name,project:e.project,priority:e.priority,dueDate:e.dueDate}).then((function(){n("fetchTasks")})).catch((function(t){return console.log(t)}))},deleteTask:function(t,e){t.commit;var n=t.dispatch;Sn().delete("tasks/".concat(e,"/delete")).then((function(){n("fetchTasks")})).catch((function(t){return console.log(t)}))}}},En={state:{projects:[]},getters:{getProjects:function(t){return t.projects}},mutations:{SET_PROJECTS:function(t,e){t.projects=e}},actions:{fetchProjects:function(t){var e=t.commit;return Sn().get("projects").then((function(t){e("SET_PROJECTS",t.data)})).catch((function(t){return console.log(t)}))},addProject:function(t,e){t.commit;var n=t.dispatch;Sn().post("projects/add",{name:e.projectName,color:e.color}).then((function(){n("fetchProjects")})).catch((function(t){return console.log(t)}))},editProject:function(t,e){t.commit;var n=t.dispatch;Sn().patch("projects/".concat(e._id,"/edit"),{name:e.name,color:e.color}).then((function(){n("fetchProjects")})).catch((function(t){return console.log(t)}))},deleteProject:function(t,e){t.commit;var n=t.dispatch;Sn().delete("projects/".concat(e,"/delete")).then((function(){n("fetchProjects")})).catch((function(t){return console.log(t)}))}}},wn=(n("99af"),{state:{subjects:[],subjectDetails:[]},getters:{getSubjects:function(t){return t.subjects},getSubjectDetails:function(t){return t.subjectDetails}},mutations:{SET_SUBJECTS:function(t,e){t.subjects=e},SET_SUBJECT_DETAILS:function(t,e){t.subjectDetails=e},ADD_SUBJECT:function(t,e){t.subjects.push(e)},ADD_REQUIREMENT:function(t,e){t.subjectDetails.requirements.push(e)}},actions:{fetchSubjects:function(t){var e=t.commit;return Sn().get("subjects").then((function(t){e("SET_SUBJECTS",t.data)})).catch((function(t){return console.log(t)}))},fetchSubjectDetails:function(t,e){var n=t.commit;Sn().get("subjects/".concat(e)).then((function(t){n("SET_SUBJECT_DETAILS",t.data)})).catch((function(t){return console.log(t)}))},addSubject:function(t,e){var n=t.commit;Sn().post("subjects/add",e).then((function(t){n("ADD_SUBJECT",t.data.subject)})).catch((function(t){return console.log(t)}))},editSubject:function(t,e){t.commit;Sn().patch("subjects/".concat(e._id,"/edit"),{name:e.name,teacher:e.teacher,color:e.color,description:e.description}).then((function(){return console.log("edited subject")})).catch((function(t){return console.log(t)}))},deleteSubject:function(t,e){t.commit;var n=t.dispatch;Sn().delete("subjects/".concat(e,"/delete")).then((function(){n("fetchSubjects")})).catch((function(t){return console.log(t)}))},addRequirement:function(t,e){t.commit;var n=t.dispatch;Sn().patch("subjects/".concat(e.subjectId,"/updateRequirements"),{requirement:e.requirement,progress:e.progress}).then((function(){n("fetchSubjectDetails",e.subjectId)})).catch((function(t){return console.log(t)}))},editRequirement:function(t,e){t.commit;Sn().patch("subjects/".concat(e.reqId,"/editRequirements"),{requirement:e.requirement,progress:e.progress}).then((function(){})).catch((function(t){return console.log(t)}))},deleteRequirement:function(t,e){t.commit;var n=t.dispatch;Sn().patch("subjects/".concat(e.subjectId,"/deleteRequirement/").concat(e.reqId)).then((function(){n("fetchSubjectDetails",e.subjectId)})).catch((function(t){return console.log(t)}))},addNote:function(t,e){t.commit;var n=t.dispatch;Sn().patch("subjects/".concat(e.subjectId,"/updateNotes"),{note:e.note}).then((function(){n("fetchSubjectDetails",e.subjectId)})).catch((function(t){return console.log(t)}))},deleteNote:function(t,e){t.commit;var n=t.dispatch;Sn().patch("subjects/".concat(e.subjectId,"/deleteNote/").concat(e.noteId)).then((function(){n("fetchSubjectDetails",e.subjectId)})).catch((function(t){return console.log(t)}))},editNote:function(t,e){t.commit;Sn().patch("subjects/".concat(e.noteId,"/editNote"),{note:e.note}).then((function(){})).catch((function(t){return console.log(t)}))}}}),Rn={state:{exams:[]},getters:{getExams:function(t){return t.exams}},mutations:{SET_EXAMS:function(t,e){t.exams=e}},actions:{fetchExams:function(t){var e=t.commit;Sn().get("exams").then((function(t){e("SET_EXAMS",t.data)})).catch((function(t){return console.log(t)}))},addExam:function(t,e){t.commit;var n=t.dispatch;Sn().post("exams/add",e).then((function(t){n("fetchExams")})).catch((function(t){return console.log(t)}))},deleteExam:function(t,e){t.commit;var n=t.dispatch;Sn().delete("exams/".concat(e,"/delete")).then((function(){n("fetchExams")})).catch((function(t){return console.log(t)}))}}};a["a"].use(jn["a"]);var $n=new jn["a"].Store({state:{user:""},getters:{getUser:function(t){return t.user}},mutations:{SET_USER_DATA:function(t,e){t.user=e},DELETE_USER_DATA:function(t){t.user=null}},actions:{signIn:function(t,e){var n=t.commit;return Ot.a.post("http://localhost:3000/user/login",{email:e.email,password:e.password}).then((function(t){n("SET_USER_DATA",t.data)}))},signUp:function(t,e){var n=t.commit;return Ot.a.post("http://localhost:3000/user/register",{email:e.email,password:e.password}).then((function(t){n("SET_USER_DATA",t.data)}))},logout:function(t){var e=t.commit;e("DELETE_USER_DATA")}},modules:{notifications:Cn,calendar:Tn,tasks:Dn,projects:En,subjects:wn,exams:Rn}}),Vn=n("f309");a["a"].use(Vn["a"]);var Pn=new Vn["a"]({theme:{themes:{light:{background:"#f8f8fb"}}}});n("d1e78");a["a"].config.productionTip=!1,new a["a"]({router:yn,store:$n,vuetify:Pn,created:function(){this.$store.dispatch("fetchSubjects"),this.$store.dispatch("fetchTasks"),this.$store.dispatch("getEvents")},render:function(t){return t(N)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";var a=n("7694"),s=n.n(a);s.a},"5cc4":function(t,e,n){},7694:function(t,e,n){},"85e8":function(t,e,n){"use strict";var a=n("3c95"),s=n.n(a);s.a},8674:function(t,e,n){},"8b4b":function(t,e,n){"use strict";var a=n("5cc4"),s=n.n(a);s.a},"9b9b":function(t,e,n){},a02d:function(t,e,n){"use strict";var a=n("3756"),s=n.n(a);s.a},b51b:function(t,e,n){},bd89:function(t,e,n){"use strict";var a=n("b51b"),s=n.n(a);s.a},c684:function(t,e,n){"use strict";var a=n("da37"),s=n.n(a);s.a},da37:function(t,e,n){},e8b3:function(t,e,n){},f894:function(t,e,n){"use strict";var a=n("3272"),s=n.n(a);s.a},fa6a:function(t,e,n){"use strict";var a=n("0777"),s=n.n(a);s.a}});
//# sourceMappingURL=app.110ed2b4.js.map